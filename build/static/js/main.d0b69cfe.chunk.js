(this["webpackJsonprevolut-currency-exchanger"]=this["webpackJsonprevolut-currency-exchanger"]||[]).push([[0],{26:function(e,n,t){},31:function(e,n,t){},32:function(e,n,t){},33:function(e,n,t){"use strict";t.r(n);var a=t(1),c=t(0),r=t.n(c),o=t(16),i=t.n(o),l=(t(26),t(12)),d=t(3),s=t(2),u="#010101",p="#1C1C1E",f="#7A7A7C",b="#FEFEFE",j="#0075EB";function h(){var e=Object(d.a)(["\n  max-width: 540px;\n  background-color: ",";\n  margin: 0 auto;\n  padding-bottom: 50px;\n  position: relative;\n  max-height: 1180px;\n  text-align: center;\n"]);return h=function(){return e},e}var x=s.default.div(h(),u),m=t(4),O=Object(c.createContext)(),g=[{name:"GBP",value:"1.31",fullName:"British Pound"},{name:"USD",value:"500.00",fullName:"US Dollar"},{name:"EUR",value:"0.00",fullName:"Euro"}],v={selectedInput:"primary",pockets:[].concat(g),firstSelectedPocket:Object(m.a)(Object(m.a)({},g[0]),{},{selected:!1}),firstInput:"",secondSelectedPocket:Object(m.a)(Object(m.a)({},g[1]),{},{selected:!1}),secondInput:"",changePanelActive:{active:!1,isCalledFromTop:!1},toggleOtherCurrencies:!1,activeRate:"1.00"},y=function(e,n){switch(n.type){case"SET_ACTIVE_INPUT":return C(e,n.payload);case"CHANGE_FIRST_CURRENCY":return S(e,n.payload);case"CHANGE_SECOND_CURRENCY":return k(e,n.payload);case"TOGGLE_CHANGE_PANEL":return _(e,n.payload);case"TOGGLE_OTHER_CURRENCIES":return P(e);case"SET_FIRST_VALUE":return R(e,n.payload);case"SET_SECOND_VALUE":return A(e,n.payload);case"SET_ACTIVE_RATE":return T(e,n.payload);case"EXCHANGE_CURRENCY":return E(e,n.payload);default:return e}},E=function(e,n){var t;return g.forEach((function(a,c){a.name===n.firstSelectedPocket.name&&(g[c]={name:e.firstSelectedPocket.name,value:(parseFloat(e.firstSelectedPocket.value)-parseFloat(n.firstSelectedPocket.value)).toFixed(2),selected:!1,fullName:g[c].fullName},t=g),a.name===n.secondSelectedPocket.name?(g[c]={name:e.secondSelectedPocket.name,value:(parseFloat(e.secondSelectedPocket.value)+parseFloat(n.secondSelectedPocket.value)).toFixed(2),selected:!1,fullName:g[c].fullName},t=g):g[c].name===e.firstSelectedPocket.name&&(t=[].concat(g,[{name:n.secondSelectedPocket.name,value:n.secondSelectedPocket.value}]))})),Object(m.a)(Object(m.a)({},e),{},{pockets:t,firstSelectedPocket:{name:e.firstSelectedPocket.name,value:parseFloat(e.firstSelectedPocket.value)-parseFloat(n.firstSelectedPocket.value),selected:!1},secondSelectedPocket:{name:e.secondSelectedPocket.name,value:parseFloat(e.secondSelectedPocket.value)+parseFloat(n.secondSelectedPocket.value),selected:!1}})},C=function(e,n){var t;return t="primary"===n?"primary":"secondary",Object(m.a)(Object(m.a)({},e),{},{selectedInput:t})},S=function(e,n){return Object(m.a)(Object(m.a)({},e),{},{firstSelectedPocket:{name:n.name,value:n.value,selected:!1}})},k=function(e,n){return Object(m.a)(Object(m.a)({},e),{},{secondSelectedPocket:{name:n.name,value:n.value,selected:!1}})},_=function(e,n){return Object(m.a)(Object(m.a)({},e),{},{firstInput:"",secondInput:"",changePanelActive:{active:n.active,isCalledFromTop:n.isCalledFromTop}})},P=function(e){return Object(m.a)(Object(m.a)({},e),{},{toggleOtherCurrencies:!e.toggleOtherCurrencies})},T=function(e,n){return Object(m.a)(Object(m.a)({},e),{},{activeRate:n})},R=function(e,n){return Object(m.a)(Object(m.a)({},e),{},{firstInput:n})},A=function(e,n){return Object(m.a)(Object(m.a)({},e),{},{secondInput:n})};function N(){var e=Object(d.a)(["\n  width: 50%;\n  background-color: ",";\n  border: none;\n  padding: 15px 0px;\n  border-radius: 8px;\n  margin-top: 20px;\n  color: ",";\n  font-weight: 600;\n  cursor: pointer;\n"]);return N=function(){return e},e}var I=s.default.button(N(),j,b),w=function(e){var n=e.children,t=Object(c.useContext)(O),r=t.globalState,o=t.dispatch,i=r.firstSelectedPocket.value<r.firstInput||!r.firstInput.length||"0"===r.firstInput;return Object(a.jsxs)(x,{"data-testid":"phone-screen",children:[n,!r.changePanelActive.active&&!r.toggleOtherCurrencies&&Object(a.jsx)(I,{"data-testid":"phone-screen-exchange-button",disabled:i,style:i?{filter:"brightness(0.5)"}:null,onClick:function(){o({type:"EXCHANGE_CURRENCY",payload:{firstSelectedPocket:{value:r.firstInput,name:r.firstSelectedPocket.name},secondSelectedPocket:{value:r.secondInput,name:r.secondSelectedPocket.name}}}),o({type:"SET_FIRST_VALUE",payload:""}),o({type:"SET_SECOND_VALUE",payload:""})},children:"Exchange"})]})},G=function(){var e=Object(c.useContext)(O).globalState;return Object(a.jsxs)("div",{"data-testid":"exchange-screen",children:[Object(a.jsx)(M,{isTopCurrency:!0,balance:e.firstSelectedPocket.value,currency:e.firstSelectedPocket.name,isActive:e.selectedInput}),Object(a.jsx)(Ae,{}),Object(a.jsx)(Ge,{}),Object(a.jsx)(M,{balance:e.secondSelectedPocket.value,currency:e.secondSelectedPocket.name,isActive:e.selectedInput})]})},F=t(34);function U(){var e=Object(d.a)(["\n  font-size: 20px;\n  display: inline-block;\n  width: 100%;\n  color: #7a7a7c;\n  text-align: left;\n"]);return U=function(){return e},e}function L(){var e=Object(d.a)(["\n  width: 100%;\n  margin-bottom: 25px;\n  line-height: 1.76;\n\n  div {\n    display: flex;\n    align-items: center;\n  }\n  .currency {\n    font-size: 42px;\n  }\n"]);return L=function(){return e},e}function H(){var e=Object(d.a)(["\n  position: relative;\n  & > i {\n    position: absolute;\n    width: 3px;\n    height: 100%;\n    background-color: ",';\n    right: -0.2px;\n    top: -2%;\n    animation-name: blink;\n    animation-duration: 800ms;\n    animation-iteration-count: infinite;\n    opacity: 1;\n  }\n\n  & > input {\n    text-align: right;\n    border: none;\n    font-size: 46px;\n    width: 100%;\n    background-color: transparent;\n    padding: 0;\n    &:focus,\n    &:hover {\n      outline: none;\n    }\n  }\n\n  & > input[type="number"]::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n  }\n\n  @keyframes blink {\n    from {\n      opacity: 1;\n    }\n    to {\n      opacity: 0;\n    }\n  }\n']);return H=function(){return e},e}function z(){var e=Object(d.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding-left: 50px;\n  padding-right: 40px;\n  align-items: center;\n  color: ",";\n  height: 225px;\n"]);return z=function(){return e},e}var V=s.default.div(z(),b),D=s.default.div(H(),j),Y=s.default.div(L()),B=s.default.span(U()),M=function(e){var n=e.isTopCurrency,t=e.balance,r=e.currency,o=e.isActive,i=Object(c.useContext)(O),l=i.globalState,d=i.dispatch,s=l.activeRate,j=l.firstSelectedPocket.value<l.firstInput;return Object(a.jsxs)(V,{style:{backgroundColor:n?u:p},children:[Object(a.jsxs)(Y,{"data-testid":"currency",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{className:"currency",children:r}),Object(a.jsx)(F.a,{size:"32","data-testid":"shevron-down",onClick:function(){!function(e,n,t){var a;e&&(a=!0),t({type:"TOGGLE_CHANGE_PANEL",payload:{isCalledFromTop:a,active:!n.changePanelActive.active}})}(n,l,d)},style:{cursor:"pointer"}})]}),Object(a.jsxs)(B,{children:["Balance: ",t]})]}),Object(a.jsx)("div",{style:j?{marginBottom:"36px"}:{marginBottom:"55px"},children:Object(a.jsxs)(D,{children:[Object(a.jsx)("input",{"data-testid":"currency-input",type:"number",placeholder:"0",style:j&&n?{color:f}:{color:b},value:n?l.firstInput:l.secondInput,onChange:function(e){return function(e,n,t,a){if(/^\d+(\.\d{1,2})?$/.test(e))n?(a({type:"SET_FIRST_VALUE",payload:e}),a({type:"SET_SECOND_VALUE",payload:Math.round(e*t*100)/100})):(a({type:"SET_SECOND_VALUE",payload:e}),a({type:"SET_FIRST_VALUE",payload:Math.round(e/t*100)/100}));else{if(0!==e.length)return;a({type:"SET_FIRST_VALUE",payload:""}),a({type:"SET_SECOND_VALUE",payload:""})}}(e.target.value,n,s,d)},onClick:function(){!function(e,n){n(e?{type:"SET_ACTIVE_INPUT",payload:"primary"}:{type:"SET_ACTIVE_INPUT",payload:"secondary"})}(n,d)}}),"primary"===o&&n?Object(a.jsx)("i",{"data-testid":"blinking-line-primary"}):"secondary"!==o||n?null:Object(a.jsx)("i",{"data-testid":"blinking-line-secondary"}),function(){if(j&&n)return Object(a.jsx)("span",{style:{float:"right",color:"#7A7A7C"},"data-testid":"exceed-balance",children:"exceeds balance"})}()]})})]})},J=t(8),X=t.n(J),$=t.p+"static/media/currency-placeholder.08fefa87.png",q=function(e,n,t,a,c){n.name===e.name&&(c({type:"CHANGE_SECOND_CURRENCY",payload:{value:n.value,name:n.name}}),c({type:"CHANGE_FIRST_CURRENCY",payload:{value:t.value,name:t.name}})),n.name!==e.name&&a.isCalledFromTop&&(t.name===e.name&&c({type:"CHANGE_SECOND_CURRENCY",payload:{value:n.value,name:n.name}}),c({type:"CHANGE_FIRST_CURRENCY",payload:{value:e.value,name:e.name}})),t.name===e.name||a.isCalledFromTop||c({type:"CHANGE_SECOND_CURRENCY",payload:{value:e.value,name:e.name}})};function K(){var e=Object(d.a)(["\n  font-size: 20px;\n  padding-left: 20px;\n  padding-top: 30px;\n  color: #7a7a7c;\n  font-weight: 500;\n  border-bottom-width: 1px;\n  border-bottom-style: solid;\n  border-bottom-color: #2b2b2d;\n  margin-bottom: 0;\n  padding-bottom: 30px;\n"]);return K=function(){return e},e}function Q(){var e=Object(d.a)(["\n  width: 55px;\n  height: 55px;\n  margin-right: 25px;\n  background: ",";\n  border-radius: 50%;\n"]);return Q=function(){return e},e}function W(){var e=Object(d.a)(["\n  font-size: 26px;\n  color: ",";\n  cursor: pointer;\n"]);return W=function(){return e},e}function Z(){var e=Object(d.a)(["\n  list-style: none;\n  display: flex;\n  align-items: center;\n  padding-top: 20px;\n  padding-bottom: 20px;\n  padding-left: 15px;\n  border-bottom-width: 1px;\n  border-bottom-style: solid;\n  border-bottom-color: #2b2b2d;\n  cursor: pointer;\n"]);return Z=function(){return e},e}function ee(){var e=Object(d.a)(["\n  background-color: ",";\n  border-top-left-radius: 15px;\n  border-top-right-radius: 15px;\n  width: 94%;\n  margin: 0 auto;\n  animation-name: appear;\n  animation-duration: 500ms;\n  opacity: 1;\n  text-align: left;\n  @keyframes appear {\n    0% {\n      opacity: 0;\n    }\n    25% {\n      opacity: 0.2;\n    }\n    50% {\n      opacity: 0.5;\n    }\n    75% {\n      opacity: 0.7;\n    }\n    100% {\n      opacity: 1;\n    }\n  }\n"]);return ee=function(){return e},e}var ne=s.default.div(ee(),p),te=s.default.li(Z()),ae=s.default.span(W(),j),ce=s.default.img(Q(),b),re=s.default.h4(K()),oe=function(){var e=Object(c.useContext)(O),n=e.globalState,t=e.dispatch;return n.changePanelActive.active?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(ne,{children:[Object(a.jsx)(re,{children:"Choose currency:"}),Object(a.jsx)("div",{children:Object(a.jsxs)("ul",{style:{padding:0},children:[n.pockets.map((function(e,c){var r=n.firstSelectedPocket,o=n.secondSelectedPocket,i=n.changePanelActive;return Object(a.jsxs)(te,{onClick:function(){return q(e,r,o,i,t)},children:[Object(a.jsx)(X.a,{currency:e.name,width:55,height:55,style:{borderRadius:"50%",backgroundPosition:"center",marginRight:"25px"}}),Object(a.jsxs)(ae,{"data-testid":"currencie-".concat(e.name),onClick:function(){t({type:"TOGGLE_CHANGE_PANEL",payload:{active:!1,isCalledFromTop:n.changePanelActive.isCalledFromTop}})},children:[e.name," \xb7 ",e.value]})]},c)})),Object(a.jsxs)(te,{children:[Object(a.jsx)(ce,{src:$,alt:"other currencies"}),Object(a.jsx)(ae,{"data-testid":"toggle-other-panel",onClick:function(){t({type:"TOGGLE_OTHER_CURRENCIES"}),t({type:"TOGGLE_CHANGE_PANEL",payload:{active:!1,isCalledFromTop:n.changePanelActive.isCalledFromTop}})},children:"Other"})]})]})})]}),Object(a.jsx)(ne,{style:{textAlign:"center",padding:"15px 0",borderRadius:"15px"},children:Object(a.jsx)(ae,{onClick:function(){t({type:"TOGGLE_CHANGE_PANEL",payload:{active:!1,isCalledFromTop:n.changePanelActive.isCalledFromTop}})},children:"Cancel"})})]}):null},ie=t(35),le=t(36);function de(){var e=Object(d.a)(["\npadding: 0;\noverflow: auto,\nmax-height: 650px,\n"]);return de=function(){return e},e}function se(){var e=Object(d.a)(["\n  padding: 0;\n"]);return se=function(){return e},e}function ue(){var e=Object(d.a)(["\n  padding: 0 15px;\n  font-size: 16px;\n  color: ",";\n  font-weight: 600;\n"]);return ue=function(){return e},e}function pe(){var e=Object(d.a)(["\n  padding-top: 25px;\n  padding-bottom: 25px;\n  height: 400px;\n  overflow: auto;\n"]);return pe=function(){return e},e}function fe(){var e=Object(d.a)(["\n  top: -500px;\n  position: relative;\n  width: 100%;\n"]);return fe=function(){return e},e}function be(){var e=Object(d.a)(["\n  font-size: 17px;\n  color: ",";\n"]);return be=function(){return e},e}function je(){var e=Object(d.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]);return je=function(){return e},e}function he(){var e=Object(d.a)(["\n  font-size: 24px;\n  color: ",";\n  cursor: pointer;\n  display: flex;\n  flex-direction: column;\n  line-height: 1.4;\n  & > span {\n    font-size: 14px;\n    color: ",";\n  }\n"]);return he=function(){return e},e}function xe(){var e=Object(d.a)(["\n  list-style: none;\n  display: flex;\n  align-items: center;\n  padding-top: 20px;\n  padding-bottom: 20px;\n  padding-left: 15px;\n  cursor: pointer;\n"]);return xe=function(){return e},e}function me(){var e=Object(d.a)(["\n  background-color: ",";\n  border-top-left-radius: 15px;\n  border-top-right-radius: 15px;\n  width: 98%;\n  margin: 0 auto;\n  margin-top: 10px;\n  animation-name: appear;\n  animation-duration: 500ms;\n  opacity: 1;\n  text-align: left;\n  @keyframes appear {\n    0% {\n      opacity: 0;\n    }\n    25% {\n      opacity: 0.2;\n    }\n    50% {\n      opacity: 0.5;\n    }\n    75% {\n      opacity: 0.7;\n    }\n    100% {\n      opacity: 1;\n    }\n  }\n"]);return me=function(){return e},e}var Oe=s.default.div(me(),p),ge=s.default.li(xe()),ve=s.default.div(he(),b,f),ye=s.default.div(je()),Ee=s.default.h4(be(),b),Ce=s.default.div(fe()),Se=s.default.div(pe()),ke=s.default.div(ue(),f),_e=s.default.ul(se()),Pe=s.default.ul(de()),Te=function(){var e=Object(c.useContext)(O),n=e.globalState,t=e.dispatch,r=Object(c.useState)({}),o=Object(l.a)(r,2),i=o[0],d=o[1],s=n.firstSelectedPocket,u=n.secondSelectedPocket,p=n.changePanelActive;Object(c.useEffect)((function(){fetch("https://openexchangerates.org/api/currencies.json").then((function(e){return e.json()})).then((function(e){return d(e)}))}),[]);return Object(a.jsx)(Ce,{"data-testid":"other-selection-box",children:Object(a.jsxs)(Oe,{children:[Object(a.jsxs)(ye,{children:[Object(a.jsx)(ie.a,{"data-testid":"close-other-currencies",size:"48",color:"white",style:{cursor:"pointer"},onClick:function(){t({type:"TOGGLE_OTHER_CURRENCIES"})}}),Object(a.jsx)(Ee,{children:"Choose currency"}),Object(a.jsx)(le.a,{size:"24",color:"white",style:{cursor:"pointer",paddingRight:"10px"}})]}),Object(a.jsxs)("div",{style:{paddingTop:"25px"},children:[Object(a.jsx)(ke,{children:"Recently used"}),Object(a.jsx)(Pe,{children:n.pockets.map((function(e,n){return Object(a.jsxs)(ge,{children:[Object(a.jsx)(X.a,{currency:e.name,width:55,height:55,style:{borderRadius:"50%",backgroundPosition:"center",marginRight:"25px"}}),Object(a.jsxs)(ve,{children:[e.name," \xb7 ",e.value,Object(a.jsx)("span",{children:e.fullName})]})]},n)}))})]}),Object(a.jsxs)(Se,{children:[Object(a.jsx)(ke,{children:"Other"}),Object(a.jsx)(_e,{children:Object(a.jsxs)("div",{"data-testid":"other-currencies",children:[" ",function(){var e={};return n.pockets.forEach((function(n){e[n.name]||(e[n.name]=n.value)})),Object.keys(i).map((function(c,r){return e[c]?Object(a.jsxs)(ge,{"data-testid":"test",children:[Object(a.jsx)(X.a,{currency:c,width:55,height:55,style:{borderRadius:"50%",backgroundPosition:"center",marginRight:"25px"}}),Object(a.jsxs)(ve,{children:[c," \xb7 ",e[c],Object(a.jsx)("span",{children:i[c]})]})]},r):Object(a.jsxs)(ge,{children:[Object(a.jsx)(X.a,{currency:c,width:55,height:55,style:{borderRadius:"50%",backgroundPosition:"center",marginRight:"25px"}}),Object(a.jsxs)(ve,{"data-testid":"currencie-".concat(c),onClick:function(){q({name:c,value:"0.00"},s,u,p,t),t({type:"TOGGLE_CHANGE_PANEL",payload:{isCalledFromTop:n.changePanelActive.isCalledFromTop,active:!1}}),t({type:"TOGGLE_OTHER_CURRENCIES"})},children:[c," \xb7 ","0.00",Object(a.jsx)("span",{children:i[c]})]})]},r)}))}()]})})]})]})})},Re=t(37),Ae=function(){var e=Object(c.useContext)(O),n=e.globalState,t=e.dispatch,r=n.firstSelectedPocket,o=n.secondSelectedPocket;return Object(a.jsx)(Re.a,{"data-testid":"swap",color:"primary",style:{backgroundColor:"white",borderRadius:"50%",padding:"5px",position:"relative",top:"58px",transform:"translate(-50%, -50%) rotate(90deg)",left:"5%",cursor:"pointer"},size:"16",onClick:function(){t({type:"CHANGE_SECOND_CURRENCY",payload:{value:r.value,name:r.name}}),t({type:"CHANGE_FIRST_CURRENCY",payload:{value:o.value,name:o.name}})}})},Ne=t(38);function Ie(){var e=Object(d.a)(["\n  position: relative;\n  top: 30px;\n  left: 50%;\n  transform: translate(-50%, -14px);\n  background: white;\n  color: ",";\n  font-weight: 500;\n  padding: 8px;\n  border-radius: 15px;\n  font-size: 13px;\n  display: flex;\n  width: fit-content;\n"]);return Ie=function(){return e},e}var we=s.default.div(Ie(),j),Ge=function(){var e=Object(c.useContext)(O),n=e.globalState,t=e.dispatch,r=n.firstSelectedPocket,o=n.secondSelectedPocket,i=n.activeRate,l=Object(c.useCallback)((function(){fetch("https://api.exchangerate.host/latest?base=".concat(r.name)).then((function(e){return e.json()})).then((function(e){Object.keys(e.rates).forEach((function(n){n===o.name&&t({type:"SET_ACTIVE_RATE",payload:e.rates[n]})}))}))}),[t,r.name,o.name]);return Object(c.useEffect)((function(){l();var e=setInterval((function(){l()}),1e4);return function(){return clearInterval(e)}}),[l]),Object(a.jsxs)(we,{children:[Object(a.jsx)(Ne.a,{color:"primary",size:"16",style:{marginRight:"5px"}}),Object(a.jsxs)("span",{"data-testid":"rates",children:[r.name," 1 = ",o.name," ",i]})]})},Fe=t(39);function Ue(){var e=Object(d.a)(["\n    display: flex;\n    align-self: center;\n    flex-grow: 0.33;\n    justify-content: flex-end;\n    & > span {\n        color: ",";\n        padding-right: 15px;\n    }\n"]);return Ue=function(){return e},e}function Le(){var e=Object(d.a)(["\n    flex-grow: 0.67;\n    align-self: center;\n    text-align: right;\n\n"]);return Le=function(){return e},e}function He(){var e=Object(d.a)(["\n    display:flex;\n    flex-direction: row;\n    height: 77px;\n    max-heigh: 77px;\n    background-color: ",";\n    border-bottom-width: 1px;\n    border-bottom-style: solid;\n    border-bottom-color: grey;\n    color: ",";\n    font-weight: ",";\n    font-size: 24px;\n    padding:0 25px;\n    \n"]);return He=function(){return e},e}var ze=s.default.div(He(),"#141414",b,500),Ve=s.default.span(Le()),De=s.default.div(Ue(),f),Ye=function(){return Object(a.jsxs)(ze,{children:[Object(a.jsx)(Ve,{children:"Exchange"}),Object(a.jsxs)(De,{children:[Object(a.jsx)("span",{children:"Auto "}),Object(a.jsx)(Fe.a,{color:"primary",size:"32"})]})]})};t(31),t(32);var Be=function(){var e=Object(c.useReducer)(y,v),n=Object(l.a)(e,2),t=n[0],r=n[1];return Object(a.jsx)(O.Provider,{value:{globalState:t,dispatch:r},children:Object(a.jsxs)(w,{children:[Object(a.jsx)(Ye,{}),Object(a.jsx)(G,{}),Object(a.jsx)(oe,{}),t.toggleOtherCurrencies&&Object(a.jsx)(Te,{})]})})};i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(Be,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.d0b69cfe.chunk.js.map